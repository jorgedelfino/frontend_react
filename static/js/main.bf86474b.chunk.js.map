{"version":3,"sources":["context/CRMContext.js","components/layout/Header.js","components/layout/Navegacion.js","config/axios.js","components/clientes/Cliente.js","components/layout/Spinner.js","components/clientes/Clientes.js","components/clientes/NuevoCliente.js","components/clientes/EditarCliente.js","components/productos/Producto.js","components/productos/Productos.js","components/productos/NuevoProducto.js","components/productos/EditarProducto.js","components/pedidos/DetallesPedido.js","components/pedidos/Pedidos.js","components/pedidos/FormBuscarProducto.js","components/pedidos/FormCantidadProducto.js","components/pedidos/NuevoPedido.js","components/auth/Login.js","App.js","serviceWorker.js","index.js"],"names":["CRMContext","React","createContext","CRMProvider","props","initialState","localStorage","getItem","token","auth","useState","guardarAuth","Provider","value","children","withRouter","useContext","className","type","onClick","setItem","history","push","Navegacion","to","clienteAxios","axios","create","baseURL","process","Cliente","cliente","_id","nombre","apellido","empresa","email","telefono","idCliente","Swal","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","delete","headers","Authorization","res","data","mensaje","Spinner","clientes","guardarClientes","useEffect","a","get","clientesConsulta","response","status","consultarAPI","length","map","key","guardarCliente","actualizarState","e","target","name","onSubmit","preventDefault","post","code","placeholder","onChange","disabled","validarCliente","id","match","params","datosCliente","clienteConsulta","put","Producto","producto","precio","imagen","src","alt","productos","guardarProductos","productosConsulta","guardarProducto","archivo","guardarArchivo","agregarProducto","formData","FormData","append","console","log","leerInformacionProducto","min","step","files","productoConsulta","editarProducto","defaultValue","width","DetallesPedido","pedido","articulos","cantidad","total","pedidos","guardarPedidos","resultado","FormBuscarProducto","buscarProducto","leerDatosBusqueda","FormCantidadProducto","restarProductos","sumarProductos","eliminarProductoPedido","index","busqueda","guardarBusqueda","guardarTotal","actualizarTotal","resultadoBusqueda","productoResultado","i","todosProductos","filter","nuevoTotal","realizarPedido","credenciales","guardarCredenciales","iniciarSesion","respuesta","leerDatos","required","App","exact","path","component","Clientes","NuevoCliente","EditarCliente","Productos","NuevoProducto","EditarProducto","Pedidos","NuevoPedido","Login","Boolean","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.bf86474b.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\n\r\nconst CRMContext = React.createContext([{}, () => {}])\r\n\r\nconst CRMProvider = props => {\r\n\r\n\t// definir el state inicial\r\n\tlet initialState = {}\r\n\t// comprobar si ya hay un token de sesion\r\n\tif (localStorage.getItem('token')) {\r\n\t\tinitialState = {\r\n\t\t\ttoken: localStorage.getItem('token'),\r\n\t\t\tauth: true\r\n\t\t}\r\n\t}\r\n\r\n\tconst [ auth, guardarAuth ] = useState(initialState)\r\n\r\n\treturn (\r\n\t\t<CRMContext.Provider value={[auth, guardarAuth]}>\r\n\t\t\t{props.children}\r\n\t\t</CRMContext.Provider>\r\n\t)\r\n\r\n}\r\n\r\nexport { CRMContext, CRMProvider }","import React, { useContext } from 'react'\r\nimport { CRMContext } from '../../context/CRMContext'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nconst Header = props => {\r\n\r\n\tconst [ auth, guardarAuth ] = useContext(CRMContext)\r\n\r\n\tconst cerrarSesion = () => {\r\n\t\tguardarAuth({\r\n\t\t\ttoken: '',\r\n\t\t\tauth: false\r\n\t\t})\r\n\r\n\t\tlocalStorage.setItem('token', '')\r\n\t\tprops.history.push('/iniciar-sesion')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<header className=\"barra\">\r\n\t\t<div className=\"contenedor\">\r\n\t\t\t<div className=\"contenido-barra\">\r\n\t\t\t\t<h1>CRM - Administrador de Clientes</h1>\r\n\t\t\t\t\t{ auth.auth ? (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-rojo\"\r\n\t\t\t\t\t\t\t\tonClick={cerrarSesion}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<i className=\"far fa-times-circle\"></i>\r\n\t\t\t\t\t\t\tCerrar Sesión\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</header>\r\n\t)\r\n}\r\n \r\nexport default withRouter(Header)","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { CRMContext } from '../../context/CRMContext'\r\n\r\nconst Navegacion = () => {\r\n\r\n\tconst [ auth, guardarAuth ] = useContext(CRMContext)\r\n\r\n\tif (!auth.auth) return null\r\n\r\n\treturn (\r\n\t\t<aside className=\"sidebar col-3\">\r\n\t\t\t\t<h2>Administración</h2>\r\n\r\n\t\t\t\t<nav className=\"navegacion\">\r\n\t\t\t\t\t\t<Link to={\"/\"} className=\"clientes\">Clientes</Link>\r\n\t\t\t\t\t\t<Link to={\"/productos\"} className=\"productos\">Productos</Link>\r\n\t\t\t\t\t\t<Link to={\"/pedidos\"} className=\"pedidos\">Pedidos</Link>\r\n\t\t\t\t</nav>\r\n\t\t</aside>\r\n\t)\r\n}\r\n \r\nexport default Navegacion","import axios from 'axios'\r\n\r\nconst clienteAxios = axios.create({\r\n\tbaseURL: process.env.REACT_APP_BACKEND_URL\r\n})\r\n\r\nexport default clienteAxios","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Swal from 'sweetalert2'\r\nimport clienteAxios from '../../config/axios'\r\n\r\nimport { CRMContext } from '../../context/CRMContext'\r\n\r\nconst Cliente = ({cliente}) => {\r\n\r\n\tconst { _id, nombre, apellido, empresa, email, telefono } = cliente\r\n\tconst [ auth, guardarAuth ] = useContext(CRMContext)\r\n\r\n\tconst eliminarCliente = idCliente => {\r\n\t\tSwal.fire({\r\n\t\t\ttitle: '¿Estas seguro?',\r\n\t\t\ttext: \"Un cliente eliminado no se puede recuperar\",\r\n\t\t\ticon: 'warning',\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonColor: '#3085d6',\r\n\t\t\tcancelButtonColor: '#d33',\r\n\t\t\tconfirmButtonText: 'Si, eliminar',\r\n\t\t\tcancelButtonText: 'Cancelar'\r\n\t\t}).then((result) => {\r\n\t\t\tif (result.value) {\r\n\t\t\t\tclienteAxios.delete(`/clientes/${idCliente}`, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\t.then( res => {\r\n\t\t\t\t\t\tSwal.fire(\r\n\t\t\t\t\t\t\t'Eliminado',\r\n\t\t\t\t\t\t\tres.data.mensaje,\r\n\t\t\t\t\t\t\t'success'\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<li className=\"cliente\">\r\n\t\t\t\t<div className=\"info-cliente\">\r\n\t\t\t\t\t\t<p className=\"nombre\">{nombre} {apellido}</p>\r\n\t\t\t\t\t\t<p className=\"empresa\">{empresa}</p>\r\n\t\t\t\t\t\t<p>{email}</p>\r\n\t\t\t\t\t\t<p>{telefono}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"acciones\">\r\n\t\t\t\t\t\t<Link to={`/clientes/editar/${_id}`} className=\"btn btn-azul\">\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-pen-alt\"></i>\r\n\t\t\t\t\t\t\t\tEditar Cliente\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to={`/pedidos/nuevo/${_id}`} className=\"btn btn-amarillo\">\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-plus\"></i>\r\n\t\t\t\t\t\t\t\tNuevo Pedido\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-rojo btn-eliminar\"\r\n\t\t\t\t\t\t\tonClick={() => eliminarCliente(_id)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-times\"></i>\r\n\t\t\t\t\t\t\t\tEliminar Cliente\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t</li>\r\n\t)\r\n}\r\n \r\nexport default Cliente","import React from 'react'\r\nimport './Spinner.css'\r\n\r\nconst Spinner = () => {\r\n\treturn (\r\n\t\t<div className=\"spinner\">\r\n\t\t\t<div className=\"bounce1\"></div>\r\n\t\t\t<div className=\"bounce2\"></div>\r\n\t\t\t<div className=\"bounce3\"></div>\r\n\t\t</div>\r\n\t)\r\n}\r\n \r\nexport default Spinner","import React, { useState, useEffect, useContext, Fragment } from 'react'\r\nimport { Link, withRouter } from 'react-router-dom'\r\n\r\nimport clienteAxios from '../../config/axios'\r\n\r\nimport Cliente from './Cliente'\r\nimport Spinner from '../layout/Spinner'\r\n\r\nimport { CRMContext } from '../../context/CRMContext'\r\n\r\nconst Clientes = props => {\r\n\r\n\tconst [ clientes, guardarClientes ] = useState([])\r\n\tconst [ auth, guardarAuth ] = useContext(CRMContext)\r\n\t\r\n\tuseEffect( () => {\r\n\r\n\t\tif (auth.token !== '') {\r\n\t\t\tconst consultarAPI = async () => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst clientesConsulta = await clienteAxios.get('/clientes', {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tguardarClientes(clientesConsulta.data)\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tif (error.response.status = 500) {\r\n\t\t\t\t\t\tguardarAuth({\r\n\t\t\t\t\t\t\ttoken: '',\r\n\t\t\t\t\t\t\tauth: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tlocalStorage.setItem('token', '')\r\n\t\t\t\t\t\tprops.history.push('/iniciar-sesion')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsultarAPI()\r\n\t\t} else {\r\n\t\t\tguardarAuth({\r\n\t\t\t\ttoken: '',\r\n\t\t\t\tauth: false\r\n\t\t\t})\r\n\t\t\tlocalStorage.setItem('token', '')\r\n\t\t\tprops.history.push('/iniciar-sesion')\r\n\t\t}\r\n\r\n\t}, [clientes])\r\n\r\n\tif (!auth.auth) {\r\n\t\tguardarAuth({\r\n\t\t\ttoken: '',\r\n\t\t\tauth: false\r\n\t\t})\r\n\t\tlocalStorage.setItem('token', '')\r\n\t\tprops.history.push('/iniciar-sesion')\r\n\t}\r\n\r\n\tif (!clientes.length) return <Spinner />\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<h2>Clientes</h2>\r\n\r\n\t\t\t<Link to={\"/clientes/nuevo\"} className=\"btn btn-verde nvo-cliente\">\r\n\t\t\t\t<i className=\"fas fa-plus-circle\"></i>\r\n\t\t\t\tNuevo Cliente\r\n\t\t\t</Link>\r\n\r\n\t\t\t<ul className=\"listado-clientes\">\r\n\t\t\t\t{clientes.map(cliente => (\r\n\t\t\t\t\t<Cliente\r\n\t\t\t\t\t\tkey={cliente._id}\r\n\t\t\t\t\t\tcliente={cliente}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n \r\nexport default withRouter(Clientes)","import React, { useState, useContext, Fragment } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Swal from 'sweetalert2'\r\n\r\nimport clienteAxios from '../../config/axios'\r\nimport { CRMContext } from '../../context/CRMContext'\r\n\r\nconst NuevoCliente = props => {\r\n\r\n\tconst [ cliente, guardarCliente ] = useState({\r\n\t\tnombre: '',\r\n\t\tapellido: '',\r\n\t\tempresa: '',\r\n\t\temail: '',\r\n\t\ttelefono: ''\r\n\t})\r\n\tconst [ auth, guardarAuth ] = useContext(CRMContext)\r\n\r\n\tconst actualizarState = e => {\r\n\t\tguardarCliente({\r\n\t\t\t...cliente,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t})\r\n\t}\r\n\r\n\tconst agregarCliente = e => {\r\n\t\te.preventDefault()\r\n\r\n\t\tclienteAxios.post('/clientes', cliente, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tif (res.data.code === 11000) {\r\n\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\ttitle: 'Hubo un error',\r\n\t\t\t\t\t\ttext: 'Ese cliente ya esta registrado'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSwal.fire(\r\n\t\t\t\t\t\t'Se agregó el cliente',\r\n\t\t\t\t\t\tres.data.mensaje,\r\n\t\t\t\t\t\t'success'\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tprops.history.push('/')\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst validarCliente = () => {\r\n\t\tconst { nombre, apellido, email, empresa, telefono } = cliente\r\n\r\n\t\tlet valido = !nombre.length || !apellido.length || !email.length || !empresa.length || !telefono.length\r\n\r\n\t\treturn valido\r\n\t}\r\n\r\n\tif (!auth.auth && (localStorage.getItem('token') !== auth.token)) {\r\n\t\tprops.history.push('/iniciar-sesion')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<h2>Nuevo Cliente</h2>\r\n\r\n\t\t\t<form\r\n\t\t\t\tonSubmit={agregarCliente}\r\n\t\t\t>\r\n\t\t\t\t<legend>Llena todos los campos</legend>\r\n\r\n\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Nombre:</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Nombre Cliente\"\r\n\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\tonChange={actualizarState}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Apellido:</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Apellido Cliente\"\r\n\t\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\t\tonChange={actualizarState}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\r\n\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Empresa:</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Empresa Cliente\"\r\n\t\t\t\t\t\t\tname=\"empresa\"\r\n\t\t\t\t\t\t\tonChange={actualizarState}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Email:</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tplaceholder=\"Email Cliente\"\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\tonChange={actualizarState}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Teléfono:</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\t\tplaceholder=\"Teléfono Cliente\"\r\n\t\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\t\tonChange={actualizarState}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"enviar\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"btn btn-azul\"\r\n\t\t\t\t\t\tvalue=\"Agregar Cliente\"\r\n\t\t\t\t\t\tdisabled={validarCliente()}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</form>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n \r\nexport default withRouter(NuevoCliente)","import React, { useState, useEffect, useContext, Fragment } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nimport clienteAxios from '../../config/axios'\r\nimport Swal from 'sweetalert2'\r\n\r\nimport { CRMContext } from '../../context/CRMContext'\r\n\r\nconst EditarCliente = props => {\r\n\r\n\tconst { id } = props.match.params\r\n\r\n\tconst [ cliente, datosCliente ] = useState({\r\n\t\tnombre: '',\r\n\t\tapellido: '',\r\n\t\tempresa: '',\r\n\t\temail: '',\r\n\t\ttelefono: ''\r\n\t})\r\n\tconst [ auth, guardarAuth ] = useContext(CRMContext)\r\n\r\n\tuseEffect( () => {\r\n\r\n\t\tif (auth.token !== '') {\r\n\t\t\tconst consultarAPI = async () => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst clienteConsulta = await clienteAxios.get(`/clientes/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tdatosCliente(clienteConsulta.data)\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tif (error.response.status = 500) {\r\n\t\t\t\t\t\tprops.history.push('/iniciar-sesion')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsultarAPI()\r\n\t\t} else {\r\n\t\t\tprops.history.push('/iniciar-sesion')\r\n\t\t}\r\n\r\n\t}, [])\r\n\r\n\tconst actualizarState = e => {\r\n\t\tdatosCliente({\r\n\t\t\t...cliente,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t})\r\n\t}\r\n\r\n\tconst actualizarCliente = e => {\r\n\t\te.preventDefault()\r\n\r\n\t\tclienteAxios.put(`/clientes/${cliente._id}`, cliente, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tif (res.data.code === 11000) {\r\n\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\ttitle: 'Hubo un error',\r\n\t\t\t\t\t\ttext: 'Ese cliente ya esta registrado'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSwal.fire(\r\n\t\t\t\t\t\t'Correcto',\r\n\t\t\t\t\t\t'Se actualizo correctamente',\r\n\t\t\t\t\t\t'success'\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tprops.history.push('/')\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst validarCliente = () => {\r\n\t\tconst { nombre, apellido, email, empresa, telefono } = cliente\r\n\r\n\t\tlet valido = !nombre.length || !apellido.length || !email.length || !empresa.length || !telefono.length\r\n\r\n\t\treturn valido\r\n\t}\r\n\r\n\tif (!auth.auth && (localStorage.getItem('token') !== auth.token)) {\r\n\t\tprops.history.push('/iniciar-sesion')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<h2>Editar Cliente</h2>\r\n\r\n\t\t\t<form\r\n\t\t\t\tonSubmit={actualizarCliente}\r\n\t\t\t>\r\n\t\t\t\t<legend>Llena todos los campos</legend>\r\n\r\n\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Nombre:</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Nombre Cliente\"\r\n\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\tonChange={actualizarState}\r\n\t\t\t\t\t\t\tvalue={cliente.nombre}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Apellido:</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Apellido Cliente\"\r\n\t\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\t\tonChange={actualizarState}\r\n\t\t\t\t\t\t\tvalue={cliente.apellido}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\r\n\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Empresa:</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Empresa Cliente\"\r\n\t\t\t\t\t\t\tname=\"empresa\"\r\n\t\t\t\t\t\t\tonChange={actualizarState}\r\n\t\t\t\t\t\t\tvalue={cliente.empresa}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Email:</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tplaceholder=\"Email Cliente\"\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\tonChange={actualizarState}\r\n\t\t\t\t\t\t\tvalue={cliente.email}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Teléfono:</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\t\tplaceholder=\"Teléfono Cliente\"\r\n\t\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\t\tonChange={actualizarState}\r\n\t\t\t\t\t\t\tvalue={cliente.telefono}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"enviar\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"btn btn-azul\"\r\n\t\t\t\t\t\tvalue=\"Guardar Cambios\"\r\n\t\t\t\t\t\tdisabled={validarCliente()}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</form>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n \r\nexport default withRouter(EditarCliente)","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Swal from 'sweetalert2'\r\n\r\nimport clienteAxios from '../../config/axios'\r\n\r\nconst Producto = ({producto}) => {\r\n\r\n\tconst eliminarProducto = id => {\r\n\t\tSwal.fire({\r\n\t\t\ttitle: '¿Estas seguro?',\r\n\t\t\ttext: \"Un producto eliminado no se puede recuperar\",\r\n\t\t\ticon: 'warning',\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonColor: '#3085d6',\r\n\t\t\tcancelButtonColor: '#d33',\r\n\t\t\tconfirmButtonText: 'Si, eliminar',\r\n\t\t\tcancelButtonText: 'Cancelar'\r\n\t\t}).then((result) => {\r\n\t\t\tif (result.value) {\r\n\t\t\t\tclienteAxios.delete(`/productos/${id}`)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.status === 200) {\r\n\t\t\t\t\t\t\tSwal.fire(\r\n\t\t\t\t\t\t\t\t'Eliminado',\r\n\t\t\t\t\t\t\t\tres.data.mensaje,\r\n\t\t\t\t\t\t\t\t'success'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<li className=\"producto\">\r\n\t\t\t<div className=\"info-producto\">\r\n\t\t\t\t<p className=\"nombre\">{producto.nombre}</p>\r\n\t\t\t\t<p className=\"precio\">$ {producto.precio}</p>\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto.imagen ? (\r\n\t\t\t\t\t\t<img src={`${process.env.REACT_APP_BACKEND_URL}/${producto.imagen}`} alt=\"imagen\" />\r\n\t\t\t\t\t) : null\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"acciones\">\r\n\t\t\t\t<Link to={`/productos/editar/${producto._id}`} className=\"btn btn-azul\">\r\n\t\t\t\t\t<i className=\"fas fa-pen-alt\"></i>\r\n\t\t\t\t\tEditar Producto\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclassName=\"btn btn-rojo btn-eliminar\"\r\n\t\t\t\t\tonClick={() => eliminarProducto(producto._id)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<i className=\"fas fa-times\"></i>\r\n\t\t\t\t\tEliminar Producto\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t)\r\n}\r\n \r\nexport default Producto","import React, { useState, useEffect, useContext, Fragment } from 'react'\r\nimport { Link, withRouter } from 'react-router-dom'\r\n\r\nimport clienteAxios from '../../config/axios'\r\n\r\nimport Producto from './Producto'\r\nimport Spinner from '../layout/Spinner'\r\n\r\nimport { CRMContext } from '../../context/CRMContext'\r\n\r\nconst Productos = props => {\r\n\r\n\tconst [ productos, guardarProductos ] = useState([])\r\n\tconst [ auth, guardarAuth ] = useContext(CRMContext)\r\n\r\n\tuseEffect( () => {\r\n\r\n\t\tif (auth.token !== '') {\r\n\t\t\tconst consultarAPI = async () => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst productosConsulta = await clienteAxios.get('/productos', {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tguardarProductos(productosConsulta.data)\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tif (error.response.status = 500) {\r\n\t\t\t\t\t\tprops.history.push('/iniciar-sesion')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconsultarAPI()\r\n\t\t} else {\r\n\t\t\tprops.history.push('/iniciar-sesion')\r\n\t\t}\r\n\r\n\t}, [])\r\n\r\n\tif (!auth.auth) props.history.push('/iniciar-sesion')\r\n\r\n\tif (!productos.length) return <Spinner/>\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<h2>Productos</h2>\r\n\t\t\t<Link to={'/productos/nuevo'} className=\"btn btn-verde nvo-cliente\">\r\n\t\t\t\t<i className=\"fas fa-plus-circle\"></i>\r\n\t\t\t\tNuevo Producto\r\n\t\t\t</Link>\r\n\r\n\t\t\t<ul className=\"listado-productos\">\r\n\t\t\t\t\t{productos.map(producto => (\r\n\t\t\t\t\t\t<Producto\r\n\t\t\t\t\t\t\tkey={producto._id}\r\n\t\t\t\t\t\t\tproducto={producto}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n \r\nexport default withRouter(Productos)","import React, { useState, useContext, Fragment } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Swal from 'sweetalert2'\r\n\r\nimport clienteAxios from '../../config/axios'\r\nimport { CRMContext } from '../../context/CRMContext'\r\n\r\nconst NuevoProducto = props => {\r\n\r\n\tconst [ producto, guardarProducto ] = useState({\r\n\t\tnombre: '',\r\n\t\tprecio: ''\r\n\t})\r\n\tconst [ archivo, guardarArchivo ] = useState('')\r\n\tconst [ auth, guardarAuth ] = useContext(CRMContext)\r\n\r\n\r\n\tconst agregarProducto = async e => {\r\n\t\te.preventDefault()\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append('nombre', producto.nombre)\r\n\t\tformData.append('precio', producto.precio)\r\n\t\tformData.append('imagen', archivo)\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await clienteAxios.post('/productos', formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tSwal.fire(\r\n\t\t\t\t\t'Agregado Correctamente',\r\n\t\t\t\t\tres.data.mensaje,\r\n\t\t\t\t\t'success'\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tprops.history.push('/productos')\r\n\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\ttitle: 'Hubo un error',\r\n\t\t\t\ttext: 'Vuelva a intentarlo'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst leerInformacionProducto = e => {\r\n\t\tguardarProducto({\r\n\t\t\t...producto,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t})\r\n\t}\r\n\r\n\tconst leerArchivo = e => {\r\n\t\tguardarArchivo(e.target.files[0])\r\n\t}\r\n\r\n\tif (!auth.auth && (localStorage.getItem('token') !== auth.token)) {\r\n\t\tprops.history.push('/iniciar-sesion')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<h2>Nuevo Producto</h2>\r\n\r\n\t\t\t<form\r\n\t\t\t\tonSubmit={agregarProducto}\r\n\t\t\t>\r\n\t\t\t\t\t<legend>Llena todos los campos</legend>\r\n\r\n\t\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Nombre:</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Nombre Producto\"\r\n\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\tonChange={leerInformacionProducto}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Precio:</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\tmin=\"0.00\"\r\n\t\t\t\t\t\t\tstep=\"0.01\"\r\n\t\t\t\t\t\t\tplaceholder=\"Precio\"\r\n\t\t\t\t\t\t\tonChange={leerInformacionProducto}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Imagen:</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\tname=\"imagen\"\r\n\t\t\t\t\t\t\tonChange={leerArchivo}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"enviar\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-azul\"\r\n\t\t\t\t\t\t\tvalue=\"Agregar Producto\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n \r\nexport default withRouter(NuevoProducto)","import React, { useState, useEffect, useContext, Fragment } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Swal from 'sweetalert2'\r\n\r\nimport clienteAxios from '../../config/axios'\r\nimport { CRMContext } from '../../context/CRMContext'\r\nimport Spinner from '../layout/Spinner'\r\n\r\nconst EditarProducto = props => {\r\n\r\n\tconst { id } = props.match.params\r\n\r\n\tconst [ producto, guardarProducto ] = useState({\r\n\t\tnombre: '',\r\n\t\tprecio: '',\r\n\t\timagen: ''\r\n\t})\r\n\tconst [ archivo, guardarArchivo ] = useState('')\r\n\tconst [ auth, guardarAuth ] = useContext(CRMContext)\r\n\r\n\tuseEffect( () => {\r\n\r\n\t\tif (auth.token !== '') {\r\n\t\t\tconst consultarAPI = async () => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst productoConsulta = await clienteAxios.get(`/productos/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tguardarProducto(productoConsulta.data)\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tif (error.response.status = 500) {\r\n\t\t\t\t\t\tprops.history.push('/iniciar-sesion')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconsultarAPI()\r\n\t\t} else {\r\n\t\t\tprops.history.push('/iniciar-sesion')\r\n\t\t}\r\n\t\t\r\n\t}, [])\r\n\r\n\tconst editarProducto = async e => {\r\n\t\te.preventDefault()\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append('nombre', producto.nombre)\r\n\t\tformData.append('precio', producto.precio)\r\n\t\tformData.append('imagen', archivo)\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await clienteAxios.put(`/productos/${id}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tSwal.fire(\r\n\t\t\t\t\t'Agregado Correctamente',\r\n\t\t\t\t\tres.data.mensaje,\r\n\t\t\t\t\t'success'\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tprops.history.push('/productos')\r\n\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\ttitle: 'Hubo un error',\r\n\t\t\t\ttext: 'Vuelva a intentarlo'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst leerInformacionProducto = e => {\r\n\t\tguardarProducto({\r\n\t\t\t...producto,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t})\r\n\t}\r\n\r\n\tconst leerArchivo = e => {\r\n\t\tguardarArchivo(e.target.files[0])\r\n\t}\r\n\r\n\tconst { nombre, precio, imagen } = producto\r\n\r\n\tif (!auth.auth && (localStorage.getItem('token') !== auth.token)) {\r\n\t\tprops.history.push('/iniciar-sesion')\r\n\t}\r\n\r\n\tif (!nombre) return <Spinner/>\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<h2>Editar Producto</h2>\r\n\r\n\t\t\t<form\r\n\t\t\t\tonSubmit={editarProducto}\r\n\t\t\t>\r\n\t\t\t\t\t<legend>Llena todos los campos</legend>\r\n\r\n\t\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Nombre:</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Nombre Producto\"\r\n\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\tonChange={leerInformacionProducto}\r\n\t\t\t\t\t\t\tdefaultValue={nombre}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Precio:</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\tmin=\"0.00\"\r\n\t\t\t\t\t\t\tstep=\"0.01\"\r\n\t\t\t\t\t\t\tplaceholder=\"Precio\"\r\n\t\t\t\t\t\t\tonChange={leerInformacionProducto}\r\n\t\t\t\t\t\t\tdefaultValue={precio}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Imagen:</label>\r\n\t\t\t\t\t\t{ imagen ? (\r\n\t\t\t\t\t\t\t<img src={`${process.env.REACT_APP_BACKEND_URL}/${imagen}`} alt=\"imagen\" width=\"300\" />\r\n\t\t\t\t\t\t) : null }\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\tname=\"imagen\"\r\n\t\t\t\t\t\t\tonChange={leerArchivo}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"enviar\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-azul\"\r\n\t\t\t\t\t\t\tvalue=\"Editar Producto\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n \r\nexport default withRouter(EditarProducto)","import React from 'react'\r\n\r\nconst DetallesPedido = ({ pedido }) => {\r\n\r\n\tconst { cliente } = pedido\r\n\r\n\tif (!pedido.pedido[0].producto || !pedido.pedido[0]) {\r\n\t\treturn null\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<li className=\"pedido\">\r\n\t\t\t\t<div className=\"info-pedido\">\r\n\t\t\t\t\t<p className=\"id\">ID: {cliente._id}</p>\r\n\t\t\t\t\t<p className=\"nombre\">Cliente: {cliente.nombre} {cliente.apellido}</p>\r\n\t\r\n\t\t\t\t\t<div className=\"articulos-pedido\">\r\n\t\t\t\t\t\t<p className=\"productos\">Artículos Pedido: </p>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t{pedido.pedido.map(articulos => (\r\n\t\t\t\t\t\t\t\t<li key={pedido._id+articulos.producto._id}>\r\n\t\t\t\t\t\t\t\t\t<p>{articulos.producto.nombre} </p>\r\n\t\t\t\t\t\t\t\t\t<p>Precio: ${articulos.producto.precio} </p>\r\n\t\t\t\t\t\t\t\t\t<p>Cantidad: {articulos.cantidad}</p>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p className=\"total\">Total: ${pedido.total} </p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"acciones\">\r\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-rojo btn-eliminar\">\r\n\t\t\t\t\t\t<i className=\"fas fa-times\"></i>\r\n\t\t\t\t\t\tEliminar Pedido\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\t\t\r\n\t\t)\r\n\t}\r\n}\r\n \r\nexport default DetallesPedido","import React, { useState, useEffect, useContext, Fragment } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nimport clienteAxios from '../../config/axios'\r\n\r\nimport DetallesPedido from './DetallesPedido'\r\nimport Spinner from '../layout/Spinner'\r\n\r\nimport { CRMContext } from '../../context/CRMContext'\r\n\r\nconst Pedidos = props => {\r\n\t\r\n\tconst [ pedidos, guardarPedidos ] = useState([])\r\n\tconst [ auth, guardarAuth ] = useContext(CRMContext)\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tif (auth.token !== '') {\r\n\t\t\tconst consultarAPI = async () => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst resultado = await clienteAxios.get('/pedidos',{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tguardarPedidos(resultado.data)\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tif (error.response.status = 500) {\r\n\t\t\t\t\t\tprops.history.push('/iniciar-sesion')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsultarAPI()\r\n\t\t} else {\r\n\t\t\tprops.history.push('/iniciar-sesion')\r\n\t\t}\r\n\t}, [])\r\n\r\n\tif (!auth.auth) props.history.push('/iniciar-sesion')\r\n\r\n\tif (!pedidos.length) return <Spinner />\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<h2>Pedidos</h2>\r\n\r\n\t\t\t<ul className=\"listado-pedidos\">\r\n\t\t\t\t{ pedidos.map(pedido => (\r\n\t\t\t\t\t<DetallesPedido\r\n\t\t\t\t\t\tkey={pedido._id}\r\n\t\t\t\t\t\tpedido={pedido}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)) }\r\n\t\t\t</ul>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n \r\nexport default withRouter(Pedidos)","import React from 'react'\r\n\r\nconst FormBuscarProducto = (props) => {\r\n\treturn (\r\n\t\t<form\r\n\t\t\tonSubmit={props.buscarProducto}\r\n\t\t>\r\n\t\t\t<legend>Busca un Producto y agrega una cantidad</legend>\r\n\r\n\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t<label>Productos:</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Nombre Productos\"\r\n\t\t\t\t\t\tname=\"productos\"\r\n\t\t\t\t\t\tonChange={props.leerDatosBusqueda}\r\n\t\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<input\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tclassName=\"btn btn-azul btn-block\"\r\n\t\t\t\tvalue=\"Buscar Producto\"\r\n\t\t\t/>\r\n\t\t</form>\r\n\t)\r\n}\r\n \r\nexport default FormBuscarProducto","import React from 'react'\r\n\r\nconst FormCantidadProducto = props => {\r\n\tconst { producto, restarProductos, sumarProductos, eliminarProductoPedido, index } = props\r\n\treturn (\r\n\t\t<li>\r\n\t\t\t<div className=\"texto-producto\">\r\n\t\t\t\t<p className=\"nombre\">{producto.nombre}</p>\r\n\t\t\t\t<p className=\"precio\">${producto.precio}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"acciones\">\r\n\t\t\t\t<div className=\"contenedor-cantidad\">\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tclassName=\"fas fa-minus\"\r\n\t\t\t\t\t\tonClick={() => restarProductos(index)}\r\n\t\t\t\t\t></i>\r\n\t\t\t\t\t<p>{producto.cantidad}</p>\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tclassName=\"fas fa-plus\"\r\n\t\t\t\t\t\tonClick={() => sumarProductos(index)}\r\n\t\t\t\t\t></i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclassName=\"btn btn-rojo\"\r\n\t\t\t\t\tonClick={() => eliminarProductoPedido(producto.producto)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<i className=\"fas fa-minus-circle\"></i>\r\n\t\t\t\t\tEliminar Producto\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t)\r\n}\r\n \r\nexport default FormCantidadProducto","import React, { useState, useEffect, useContext, Fragment } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport clienteAxios from '../../config/axios'\r\nimport Swal from 'sweetalert2'\r\n\r\nimport FormBuscarProducto from './FormBuscarProducto'\r\nimport FormCantidadProducto from './FormCantidadProducto'\r\n\r\nimport { CRMContext } from '../../context/CRMContext'\r\n\r\nconst NuevoPedido = props => {\r\n\r\n\tconst { id } = props.match.params\r\n\r\n\tconst [ cliente, guardarCliente ] = useState({})\r\n\tconst [ busqueda, guardarBusqueda ] = useState('')\r\n\tconst [ productos, guardarProductos ] = useState([])\r\n\tconst [ total, guardarTotal ] = useState(0)\r\n\tconst [ auth, guardarAuth ] = useContext(CRMContext)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst consultarAPI = async () => {\r\n\t\t\tconst resultado = await clienteAxios.get(`/clientes/${id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tguardarCliente(resultado.data)\r\n\t\t}\r\n\t\t\r\n\t\tconsultarAPI()\r\n\r\n\t\tactualizarTotal()\r\n\t}, [productos])\r\n\r\n\tconst buscarProducto = async e => {\r\n\t\te.preventDefault()\r\n\r\n\t\tconst resultadoBusqueda = await clienteAxios.post(`/productos/busqueda/${busqueda}`, {}, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tif (resultadoBusqueda.data[0]) {\r\n\t\t\tlet productoResultado = resultadoBusqueda.data[0]\r\n\t\t\tproductoResultado.producto = resultadoBusqueda.data[0]._id\r\n\t\t\tproductoResultado.cantidad = 0\r\n\r\n\t\t\tguardarProductos([...productos, productoResultado])\r\n\t\t} else {\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttype:'error',\r\n\t\t\t\ttitle: 'No resultados',\r\n\t\t\t\ttext: 'No hay resultados'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst leerDatosBusqueda = e => {\r\n\t\tguardarBusqueda(e.target.value)\r\n\t}\r\n\r\n\tconst restarProductos = i => {\r\n\t\tconst todosProductos = [...productos]\r\n\t\tif (todosProductos[i].cantidad === 0) return\r\n\r\n\t\ttodosProductos[i].cantidad--\r\n\r\n\t\tguardarProductos(todosProductos)\r\n\t}\r\n\r\n\tconst sumarProductos = i => {\r\n\t\tconst todosProductos = [...productos]\r\n\r\n\t\ttodosProductos[i].cantidad++\r\n\r\n\t\tguardarProductos(todosProductos)\r\n\t}\r\n\r\n\tconst eliminarProductoPedido = id => {\r\n\t\tconst todosProductos = productos.filter(producto => producto.producto !== id)\r\n\r\n\t\tguardarProductos(todosProductos)\r\n\t}\r\n\r\n\tconst actualizarTotal = () => {\r\n\t\tif (productos.length === 0) {\r\n\t\t\tguardarTotal(0)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet nuevoTotal = 0\r\n\r\n\t\tproductos.map(producto => nuevoTotal += (producto.cantidad * producto.precio))\r\n\r\n\t\tguardarTotal(nuevoTotal)\r\n\t}\r\n\r\n\tconst realizarPedido = async e => {\r\n\t\te.preventDefault()\r\n\t\t\r\n\t\tconst { id } = props.match.params\r\n\t\t\r\n\t\tconst pedido = {\r\n\t\t\t\"cliente\": id,\r\n\t\t\t\"pedido\": productos,\r\n\t\t\t\"total\": total\r\n\t\t}\r\n\r\n\t\tconst resultado = await clienteAxios.post(`/pedidos/nuevo/${id}`, pedido, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tif (resultado.status === 200) {\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttype: 'success',\r\n\t\t\t\ttitle: 'Correcto',\r\n\t\t\t\ttext: resultado.data.mensaje\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\ttitle: 'Hubo un error',\r\n\t\t\t\ttext: 'Vuelva a intentarlo'\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tprops.history.push('/pedidos')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<h2>Nuevo Pedido</h2>\r\n\r\n\t\t\t<div className=\"ficha-cliente\">\r\n\t\t\t\t\t<h3>Datos de Cliente</h3>\r\n\t\t\t\t\t<p>{cliente.nombre} {cliente.apellido}</p>\r\n\t\t\t\t\t<p>Teléfono: {cliente.telefono}</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<FormBuscarProducto\r\n\t\t\t\tbuscarProducto={buscarProducto}\r\n\t\t\t\tleerDatosBusqueda={leerDatosBusqueda}\r\n\t\t\t/>\r\n\r\n\t\t\t<ul className=\"resumen\">\r\n\t\t\t\t{ productos.map((producto, index) => (\r\n\t\t\t\t\t<FormCantidadProducto\r\n\t\t\t\t\t\tproducto={producto}\r\n\t\t\t\t\t\tkey={producto.producto}\r\n\t\t\t\t\t\trestarProductos={restarProductos}\r\n\t\t\t\t\t\tsumarProductos={sumarProductos}\r\n\t\t\t\t\t\teliminarProductoPedido={eliminarProductoPedido}\r\n\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)) }\r\n\t\t\t</ul>\r\n\r\n\t\t\t<p className=\"total\">Total a Pagar: <span>$ {total}</span></p>\r\n\t\t\t\t\t\r\n\t\t\t{ total > 0 ? (\r\n\t\t\t\t<form\r\n\t\t\t\t\tonSubmit={realizarPedido}\r\n\t\t\t\t>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"btn btn-verde btn-block\"\r\n\t\t\t\t\t\tvalue=\"Realizar pedido\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t) : null }\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n \r\nexport default withRouter(NuevoPedido)","import React, { useState, useContext } from 'react'\r\nimport Swal from 'sweetalert2'\r\nimport { withRouter } from 'react-router-dom'\r\nimport clienteAxios from '../../config/axios'\r\nimport jsonwebtoken from 'jsonwebtoken'\r\n\r\n// Context\r\nimport { CRMContext } from '../../context/CRMContext'\r\n\r\nconst Login = props => {\r\n\r\n\tconst [ credenciales, guardarCredenciales ] = useState({})\r\n\tconst [ auth, guardarAuth ] = useContext(CRMContext)\r\n\r\n\tconst iniciarSesion = async e => {\r\n\t\te.preventDefault()\r\n\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tconst respuesta = await clienteAxios.post('/iniciar-sesion', credenciales)\r\n\t\t\t\r\n\t\t\tconst { token } = respuesta.data\r\n\t\t\tlocalStorage.setItem('token', token)\r\n\r\n\t\t\tguardarAuth({\r\n\t\t\t\ttoken,\r\n\t\t\t\tauth: true\r\n\t\t\t})\r\n\r\n\t\t\tSwal.fire(\r\n\t\t\t\t'Login Correcto',\r\n\t\t\t\t'Has iniciado Sesión',\r\n\t\t\t\t'success'\r\n\t\t\t)\r\n\r\n\t\t\tprops.history.push('/')\r\n\r\n\t\t} catch (error) {\r\n\t\t\tif (error.response) {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\ttitle: 'Hubo un error',\r\n\t\t\t\t\ttext: error.response.data.mensaje\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\ttitle: 'Hubo un error',\r\n\t\t\t\t\ttext: 'Hubo un error'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst leerDatos = e => {\r\n\t\tguardarCredenciales({\r\n\t\t\t...credenciales,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t})\r\n\t}\r\n\t\r\n\tif (auth.auth) {\r\n\t\tprops.history.push('/')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"login\">\r\n\t\t\t<h2>Iniciar Sesion</h2>\r\n\r\n\t\t\t<div className=\"contenedor-formulario\">\r\n\t\t\t\t<form\r\n\t\t\t\t\tonSubmit={iniciarSesion}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Email</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\tplaceholder=\"Email para Iniciar Sesion\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={leerDatos}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"campo\">\r\n\t\t\t\t\t\t<label>Contraseña</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"Contraseña para Iniciar Sesion\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={leerDatos}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<input type=\"submit\" value=\"Iniciar Sesion\" className=\"btn btn-verde btn-block\"/>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n \r\nexport default withRouter(Login)","import React, { Fragment, useContext } from 'react'\n\n// Routing\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\n\n// ** LAYOUT ** //\nimport Header from './components/layout/Header'\nimport Navegacion from './components/layout/Navegacion'\n\n// ** Componentes ** //\nimport Clientes from './components/clientes/Clientes'\nimport NuevoCliente from './components/clientes/NuevoCliente'\nimport EditarCliente from './components/clientes/EditarCliente'\n\nimport Productos from './components/productos/Productos'\nimport NuevoProducto from './components/productos/NuevoProducto'\nimport EditarProducto from './components/productos/EditarProducto'\n\nimport Pedidos from './components/pedidos/Pedidos'\nimport NuevoPedido from './components/pedidos/NuevoPedido'\n\nimport Login from './components/auth/Login'\n\nimport { CRMContext, CRMProvider } from './context/CRMContext'\n\nfunction App() {\n\n  // utilizar context en el componente\n  const [ auth, guardarAuth ] = useContext(CRMContext)\n\n  return (\n    <Router>\n      <Fragment>\n          <CRMProvider value={[ auth, guardarAuth ]}>\n            <Header/>\n\n            <div className=\"grid contenedor contenido-principal\">\n              <Navegacion/>\n\n              <main className=\"caja-contenido col-9\">\n                <Switch>\n                  <Route exact path=\"/\" component={Clientes} />\n                  <Route exact path=\"/clientes/nuevo\" component={NuevoCliente} />\n                  <Route exact path=\"/clientes/editar/:id\" component={EditarCliente} />\n\n                  <Route exact path=\"/productos\" component={Productos} />\n                  <Route exact path=\"/productos/nuevo\" component={NuevoProducto} />\n                  <Route exact path=\"/productos/editar/:id\" component={EditarProducto} />\n\n                  <Route exact path=\"/pedidos\" component={Pedidos} />\n                  <Route exact path=\"/pedidos/nuevo/:id\" component={NuevoPedido} />\n\n                  <Route exact path=\"/iniciar-sesion\" component={Login} />\n                </Switch>\n              </main>\n            </div>\n          </CRMProvider>\n      </Fragment>\n    </Router>\n  )\n}\n\nexport default App","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}